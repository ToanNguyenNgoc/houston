(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87],{16093:function(l,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/payment-result",function(){return a(57943)}])},57943:function(l,e,a){"use strict";a.r(e);var n=a(85893),s=a(14833),i=a(71697),t=a(36492),r=a(11163),d=a(41183),c=a.n(d),o=a(89583),_=a(8193),u=a(30381),h=a.n(u),m=a(64074),v=a(83321),b=a(57368);let x=()=>{var l,e,a,s,d,o,_,u;let x=(0,r.useRouter)(),y=x.query.txn_ref,{data:N}=(0,t.a)({queryKey:["PM-RESULT",y],queryFn:()=>i.h.paymentGatewayStatus(y),enabled:!!y,onError:()=>x.push("404")}),j=null==N?void 0:N.data;return(0,n.jsxs)("div",{className:c().container,children:[(0,n.jsx)("div",{className:c().bg_image,children:(0,n.jsx)("img",{src:null==j?void 0:null===(l=j.villa)||void 0===l?void 0:null===(e=l.thumbnail)||void 0===e?void 0:e.original_url,alt:null==j?void 0:null===(a=j.villa)||void 0===a?void 0:a.name})}),(0,n.jsx)("div",{className:c().bill_cnt,children:(0,n.jsxs)("div",{className:c().bill_card,children:[j&&(0,n.jsx)(p,{booking:j}),(0,n.jsxs)("div",{className:c().bill_body,children:[(0,n.jsxs)("div",{className:c().row,children:[(0,n.jsx)("span",{className:c().label,children:"Villa"}),(0,n.jsx)("span",{className:c().value,children:null==j?void 0:null===(s=j.villa)||void 0===s?void 0:s.name})]}),(null==j?void 0:j.payment_gateway)&&(0,n.jsxs)("div",{className:c().row,style:{alignItems:"center"},children:[(0,n.jsx)("span",{className:c().label,children:"Trạng th\xe1i"}),(0,n.jsx)(b.gn,{status:null==j?void 0:j.payment_gateway.status,statusType:"PAYMENT",hideTitle:!0})]}),(0,n.jsxs)("div",{className:c().bill_body_de,children:[(0,n.jsxs)("div",{className:c().row,children:[(0,n.jsx)("span",{className:c().label,children:"Txn ref"}),(0,n.jsx)("span",{className:c().value,children:null==j?void 0:null===(d=j.payment_gateway)||void 0===d?void 0:d.txn_ref})]}),(0,n.jsxs)("div",{className:c().row,children:[(0,n.jsx)("span",{className:c().label,children:"Chi nh\xe1nh"}),(0,n.jsx)("span",{className:c().value,children:null==j?void 0:null===(o=j.branch)||void 0===o?void 0:o.name})]}),(0,n.jsxs)("div",{className:c().row,children:[(0,n.jsx)("span",{className:c().label,children:"Phương thức thanh to\xe1n"}),(0,n.jsx)("span",{className:c().value,children:null==j?void 0:null===(_=j.payment_method)||void 0===_?void 0:_.name})]}),(0,n.jsxs)("div",{className:c().row,children:[(0,n.jsx)("span",{className:c().label,children:"Thời gian thanh to\xe1n"}),(0,n.jsx)("span",{className:c().value,children:h()(null==j?void 0:null===(u=j.payment_gateway)||void 0===u?void 0:u.updated_at).format("HH:mm, D [thg] M [năm] YYYY")})]}),(0,n.jsxs)("div",{className:c().row,children:[(0,n.jsx)("span",{className:c().label,children:"Số tiền thanh to\xe1n"}),(0,n.jsxs)("span",{className:c().value,children:[(0,m.BX)(null==j?void 0:j.amount)," VNĐ"]})]})]})]}),(0,n.jsxs)("div",{className:c().bill_bot,children:[(0,n.jsx)(v.Z,{size:"medium",style:{backgroundColor:"var(--primary)"},variant:"contained",onClick:()=>x.replace("/"),children:"Tiếp tục kh\xe1m ph\xe1"}),(0,n.jsx)(v.Z,{size:"medium",variant:"outlined",style:{color:"var(--primary)",borderColor:"var(--primary)"},onClick:()=>x.replace("/account/bookings"),children:"Xem lịch sử"})]})]})})]})};x.Layout=s.g1;let p=l=>{let{booking:e}=l,{title:a,bg:s,color:i,icon:t}=(()=>{var l;let a={title:"",bg:"",color:"",icon:(0,n.jsx)(n.Fragment,{})};switch(null===(l=e.payment_gateway)||void 0===l?void 0:l.status){case"SUCCESS":return{title:"Thanh to\xe1n th\xe0nh c\xf4ng !",color:"var(--green-dark-2)",bg:"#66bb6a73",icon:(0,n.jsx)(o.FJM,{style:{width:"24px",height:"24px"},color:"var(--green-dark-2)"})};case"CANCEL":return{title:"Thanh to\xe1n thất bại !",color:"#ef5350",bg:"#ef535057",icon:(0,n.jsx)(_.LHV,{style:{width:"24px",height:"24px"},color:"#ef535057"})};default:return a}})();return(0,n.jsxs)("div",{className:c().bill_head,children:[(0,n.jsx)("div",{style:{backgroundColor:s},className:c().bill_head_icon,children:t}),(0,n.jsx)("p",{style:{color:i},className:c().bill_head_title,children:a})]})};e.default=x},41183:function(l){l.exports={container:"payment-result_container___xMH1",bg_image:"payment-result_bg_image__bY2s_",bill_cnt:"payment-result_bill_cnt__EbRW6",bill_card:"payment-result_bill_card__wxPtR",bill_head:"payment-result_bill_head__8hUml",bill_head_icon:"payment-result_bill_head_icon__TMtGL",bill_head_title:"payment-result_bill_head_title__YmwN5",bill_body:"payment-result_bill_body__HZA6q",row:"payment-result_row__znUuT",value:"payment-result_value__8dUQ0",bill_body_de:"payment-result_bill_body_de__JdqCW",bill_bot:"payment-result_bill_bot__gUuOS"}},36492:function(l,e,a){"use strict";a.d(e,{a:function(){return t}});var n=a(32161),s=a(52924),i=a(67187);function t(l,e,a){let t=(0,n._v)(l,e,a);return(0,i.r)(t,s.z)}}},function(l){l.O(0,[885,617,828,774,888,179],function(){return l(l.s=16093)}),_N_E=l.O()}]);