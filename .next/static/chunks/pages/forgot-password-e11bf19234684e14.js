(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{83454:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(77663)},64923:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forgot-password",function(){return r(88803)}])},37079:function(e,t,r){"use strict";r.d(t,{D:function(){return o},z:function(){return i}});var n=r(67294);function o(){let[e,t]=(0,n.useState)({load:!1,message:"",openAlert:!1,color:"info"}),r=()=>t({...e,load:!0}),o=e=>{var r;t({load:!1,message:null!==(r=e.message)&&void 0!==r?r:"",openAlert:!0,element:e.element,color:e.color})},s=()=>t({...e,openAlert:!1});return{noti:e,firstLoad:r,resultLoad:o,onCloseNoti:s}}var s=r(71697);function i(){let[e,t]=(0,n.useState)([]),r=async e=>{let{e:r,callBack:n}=e;if(r.target.files)try{var o;let e=[];for(var i=0;i<(null===(o=r.target.files)||void 0===o?void 0:o.length);i++){let t=r.target.files[i],n=new FormData,o={original_url:"",mediaId:i};n.append("file",t);let a=await s.h.uploadMedia(n);a&&(o={original_url:a.data.original_url,mediaId:a.data.id}),e.push(o)}t(e),n&&n(e)}catch(e){}};return{medias:e,handlePostMedia:r}}},88803:function(e,t,r){"use strict";r.r(t);var n=r(85893),o=r(63669),s=r(77318),i=r(37079),a=r(14833),c=r(71697),u=r(58375),l=r.n(u),f=r(64074),p=r(47533),d=r(8987),h=r(48228),m=r(11163),y=r(67294),v=r(50259),g=r(87536),b=r(74231);let w=()=>{let[e,t]=(0,y.useState)(1),{noti:r,resultLoad:u,onCloseNoti:w,firstLoad:x}=(0,i.D)(),[_,S]=(0,y.useState)(""),[C,R]=(0,y.useState)(!1),E=(0,m.useRouter)(),M=e=>{S(e)},N=b.Ry({email:b.Z_().required("Vui l\xf2ng nhập email").matches(f.Gu.email,{message:"Vui l\xf2ng nhập đ\xfang định dạng"}),new_password:1===e?b.Z_():b.Z_().required("Vui l\xf2ng nhập mật khẩu"),code:1===e?b.Z_():b.Z_().required("Vui l\xf2ng nhập m\xe3 OTP")}),{register:T,handleSubmit:P,formState:{errors:k}}=(0,g.cI)({resolver:(0,p.X)(N),defaultValues:{email:"",new_password:"",code:""}}),{mutate:j}=(0,h.D)({mutationFn:e=>c.h.forgot(e),onSuccess:()=>{R(e=>!e),1===e&&u({message:"M\xe3 x\xe1c thực đ\xe3 được gửi đến Email của bạn",color:"success"}),t(2),2===e&&(u({message:"Thay đổi mật khẩu th\xe0nh c\xf4ng",color:"success"}),setTimeout(()=>{E.push("/auth/login")},3e3))},onError:e=>{R(e=>!e),u({message:Array.isArray(e.response.data.message)?e.response.data.message[0]:e.response.data.message,color:"error"})}}),$=e=>{""===_?R(e=>!e):(x(),j({...e,recaptcha:_}))};return(0,n.jsx)(v.pm,{reCaptchaKey:s.$S,scriptProps:{async:!0,defer:!0,appendTo:"head",nonce:void 0},children:(0,n.jsxs)(a.Ef,{isForgot:!0,children:[(0,n.jsx)(o.Ct,{open:r.openAlert,close:w,message:r.message,severity:r.color}),(0,n.jsxs)("div",{className:l().container,children:[(0,n.jsx)("p",{className:l().title,children:"Qu\xean mật khẩu"}),1===e?(0,n.jsxs)("form",{autoComplete:"off",onSubmit:P($),children:[(0,n.jsxs)("div",{className:l().form_row,children:[(0,n.jsx)("input",{...T("email"),type:"text",className:"app-input",placeholder:"Email"}),k.email&&(0,n.jsx)("p",{className:l().form_row_error,children:k.email.message})]}),(0,n.jsx)("div",{className:l().form_btn,children:(0,n.jsx)(d.Z,{style:{backgroundColor:"var(--primary)"},variant:"contained",loading:r.load,type:"submit",children:"Lấy m\xe3 x\xe1c thực"})})]}):(0,n.jsxs)("form",{autoComplete:"off",onSubmit:P($),children:[(0,n.jsx)("div",{className:l().form_row,children:(0,n.jsx)("input",{disabled:!0,...T("email"),type:"text",className:"app-input",placeholder:"Email"})}),(0,n.jsxs)("div",{className:l().form_row,children:[(0,n.jsx)("input",{...T("new_password"),type:"password",className:"app-input",placeholder:"Mật khẩu"}),k.new_password&&(0,n.jsx)("p",{className:l().form_row_error,children:k.new_password.message})]}),(0,n.jsxs)("div",{className:l().form_row,children:[(0,n.jsx)("input",{...T("code"),type:"text",className:"app-input",placeholder:"M\xe3 OTP"}),k.code&&(0,n.jsx)("p",{className:l().form_row_error,children:k.code.message})]}),(0,n.jsx)("div",{className:l().form_btn,children:(0,n.jsx)(d.Z,{style:{backgroundColor:"var(--primary)"},variant:"contained",loading:r.load,type:"submit",children:"Đổi mật khẩu"})})]})]}),(0,n.jsx)(v.mP,{refreshReCaptcha:C,onVerify:M})]})})};t.default=w},58375:function(e){e.exports={container:"forgot-password_container__o_kFh",title:"forgot-password_title__vUHEf",form_row:"forgot-password_form_row__9_Uko",form_row_error:"forgot-password_form_row_error__5fV90",form_btn:"forgot-password_form_btn__3kYgV"}},77663:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function s(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var c=[],u=!1,l=-1;function f(){u&&n&&(u=!1,n.length?c=n.concat(c):l=-1,c.length&&p())}function p(){if(!u){var e=a(f);u=!0;for(var t=c.length;t;){for(n=c,c=[];++l<t;)n&&n[l].run();l=-1,t=c.length}n=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||u||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var s=r[e]={exports:{}},i=!0;try{t[e](s,s.exports,n),i=!1}finally{i&&delete r[e]}return s.exports}n.ab="//";var o=n(229);e.exports=o}()},50259:function(e,t,r){"use strict";r.d(t,{mP:function(){return d},pm:function(){return p}});var n,o=r(67294),s=r(83454),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e){var t;e?function(e){if(e)for(;e.lastChild;)e.lastChild.remove()}("string"==typeof e?document.getElementById(e):e):(t=document.querySelector(".grecaptcha-badge"))&&t.parentNode&&document.body.removeChild(t.parentNode)},c=function(e,t){a(t),window.___grecaptcha_cfg=void 0;var r,n=document.querySelector("#"+e);n&&n.remove(),(r=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]'))&&r.remove()},u=function(e){var t=e.render,r=e.onLoadCallbackName,n=e.language,o=e.onLoad,s=e.useRecaptchaNet,i=e.useEnterprise,a=e.scriptProps,c=void 0===a?{}:a,u=c.nonce,l=void 0===u?"":u,f=c.defer,p=c.async,d=c.id,h=c.appendTo,m=(void 0===d?"":d)||"google-recaptcha-v3";if(document.querySelector("#"+m))o();else{var y,v="https://www."+((y={useEnterprise:i,useRecaptchaNet:s}).useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(y.useEnterprise?"enterprise.js":"api.js"),g=document.createElement("script");g.id=m,g.src=v+"?render="+t+("explicit"===t?"&onload="+r:"")+(n?"&hl="+n:""),l&&(g.nonce=l),g.defer=!!(void 0!==f&&f),g.async=!!(void 0!==p&&p),g.onload=o,("body"===h?document.body:document.getElementsByTagName("head")[0]).appendChild(g)}},l=function(e){void 0===s||s.env,console.warn(e)};(n||(n={})).SCRIPT_NOT_AVAILABLE="Recaptcha script is not available";var f=(0,o.createContext)({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});function p(e){var t=e.reCaptchaKey,r=e.useEnterprise,s=void 0!==r&&r,a=e.useRecaptchaNet,p=void 0!==a&&a,d=e.scriptProps,h=e.language,m=e.container,y=e.children,v=(0,o.useState)(null),g=v[0],b=v[1],w=(0,o.useRef)(t),x=JSON.stringify(d),_=JSON.stringify(null==m?void 0:m.parameters);(0,o.useEffect)(function(){if(t){var e=(null==d?void 0:d.id)||"google-recaptcha-v3",r=(null==d?void 0:d.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[r]=function(){var e=s?window.grecaptcha.enterprise:window.grecaptcha,r=i({badge:"inline",size:"invisible",sitekey:t},(null==m?void 0:m.parameters)||{});w.current=e.render(null==m?void 0:m.element,r)},u({render:(null==m?void 0:m.element)?"explicit":t,onLoadCallbackName:r,useEnterprise:s,useRecaptchaNet:p,scriptProps:d,language:h,onLoad:function(){if(window&&window.grecaptcha){var e=s?window.grecaptcha.enterprise:window.grecaptcha;e.ready(function(){b(e)})}else l("<GoogleRecaptchaProvider /> "+n.SCRIPT_NOT_AVAILABLE)},onError:function(){l("Error loading google recaptcha script")}}),function(){c(e,null==m?void 0:m.element)}}l("<GoogleReCaptchaProvider /> recaptcha key not provided")},[s,p,x,_,h,t,null==m?void 0:m.element]);var S=(0,o.useCallback)(function(e){if(!g||!g.execute)throw Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return g.execute(w.current,{action:e})},[g,w]),C=(0,o.useMemo)(function(){return{executeRecaptcha:g?S:void 0,container:null==m?void 0:m.element}},[S,g,null==m?void 0:m.element]);return o.createElement(f.Provider,{value:C},y)}function d(e){var t=this,r=e.action,n=e.onVerify,s=e.refreshReCaptcha,i=(0,o.useContext)(f);(0,o.useEffect)(function(){var e,o,s,a=i.executeRecaptcha;a&&(e=void 0,o=void 0,s=function(){var e;return function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,function(t){switch(t.label){case 0:return[4,a(r)];case 1:return e=t.sent(),n?(n(e),[2]):(l("Please define an onVerify function"),[2])}})},new(o||(o=Promise))(function(r,n){function i(e){try{c(s.next(e))}catch(e){n(e)}}function a(e){try{c(s.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?r(e.value):((t=e.value)instanceof o?t:new o(function(e){e(t)})).then(i,a)}c((s=s.apply(t,e||[])).next())}))},[r,n,s,i]);var a=i.container;return"string"==typeof a?o.createElement("div",{id:a}):null}function h(e,t){return e(t={exports:{}},t.exports),t.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}f.Consumer;var m="function"==typeof Symbol&&Symbol.for,y=m?Symbol.for("react.element"):60103,v=m?Symbol.for("react.portal"):60106,g=m?Symbol.for("react.fragment"):60107,b=m?Symbol.for("react.strict_mode"):60108,w=m?Symbol.for("react.profiler"):60114,x=m?Symbol.for("react.provider"):60109,_=m?Symbol.for("react.context"):60110,S=m?Symbol.for("react.async_mode"):60111,C=m?Symbol.for("react.concurrent_mode"):60111,R=m?Symbol.for("react.forward_ref"):60112,E=m?Symbol.for("react.suspense"):60113,M=m?Symbol.for("react.suspense_list"):60120,N=m?Symbol.for("react.memo"):60115,T=m?Symbol.for("react.lazy"):60116,P=m?Symbol.for("react.block"):60121,k=m?Symbol.for("react.fundamental"):60117,j=m?Symbol.for("react.responder"):60118,$=m?Symbol.for("react.scope"):60119;function O(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case y:switch(e=e.type){case S:case C:case g:case w:case b:case E:return e;default:switch(e=e&&e.$$typeof){case _:case R:case T:case N:case x:return e;default:return t}}case v:return t}}}function L(e){return O(e)===C}var A={AsyncMode:S,ConcurrentMode:C,ContextConsumer:_,ContextProvider:x,Element:y,ForwardRef:R,Fragment:g,Lazy:T,Memo:N,Portal:v,Profiler:w,StrictMode:b,Suspense:E,isAsyncMode:function(e){return L(e)||O(e)===S},isConcurrentMode:L,isContextConsumer:function(e){return O(e)===_},isContextProvider:function(e){return O(e)===x},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===y},isForwardRef:function(e){return O(e)===R},isFragment:function(e){return O(e)===g},isLazy:function(e){return O(e)===T},isMemo:function(e){return O(e)===N},isPortal:function(e){return O(e)===v},isProfiler:function(e){return O(e)===w},isStrictMode:function(e){return O(e)===b},isSuspense:function(e){return O(e)===E},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===g||e===C||e===w||e===b||e===E||e===M||"object"==typeof e&&null!==e&&(e.$$typeof===T||e.$$typeof===N||e.$$typeof===x||e.$$typeof===_||e.$$typeof===R||e.$$typeof===k||e.$$typeof===j||e.$$typeof===$||e.$$typeof===P)},typeOf:O},V=h(function(e,t){}),F=(V.AsyncMode,V.ConcurrentMode,V.ContextConsumer,V.ContextProvider,V.Element,V.ForwardRef,V.Fragment,V.Lazy,V.Memo,V.Portal,V.Profiler,V.StrictMode,V.Suspense,V.isAsyncMode,V.isConcurrentMode,V.isContextConsumer,V.isContextProvider,V.isElement,V.isForwardRef,V.isFragment,V.isLazy,V.isMemo,V.isPortal,V.isProfiler,V.isStrictMode,V.isSuspense,V.isValidElementType,V.typeOf,h(function(e){e.exports=A})),G={};G[F.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},G[F.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0}},48228:function(e,t,r){"use strict";r.d(t,{D:function(){return p}});var n=r(67294),o=r(464),s=r(32161),i=r(89886),a=r(30081),c=r(33989);class u extends c.l{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;let r=this.options;this.options=this.client.defaultMutationOptions(e),(0,s.VS)(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.currentMutation)||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();let t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let e=this.currentMutation?this.currentMutation.state:(0,i.R)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){a.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var t,r,n,o,s,i,a,c;e.onSuccess?(null==(t=(r=this.mutateOptions).onSuccess)||t.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(n=(o=this.mutateOptions).onSettled)||n.call(o,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&(null==(s=(i=this.mutateOptions).onError)||s.call(i,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(c=this.mutateOptions).onSettled)||a.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)})})}}var l=r(85945),f=r(24798);function p(e,t,r){let i=(0,s.lV)(e,t,r),c=(0,l.NL)({context:i.context}),[p]=n.useState(()=>new u(c,i));n.useEffect(()=>{p.setOptions(i)},[p,i]);let h=(0,o.$)(n.useCallback(e=>p.subscribe(a.V.batchCalls(e)),[p]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),m=n.useCallback((e,t)=>{p.mutate(e,t).catch(d)},[p]);if(h.error&&(0,f.L)(p.options.useErrorBoundary,[h.error]))throw h.error;return{...h,mutate:m,mutateAsync:h.mutate}}function d(){}},464:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var n=r(61688);let o=n.useSyncExternalStore},24798:function(e,t,r){"use strict";function n(e,t){return"function"==typeof e?e(...t):!!e}r.d(t,{L:function(){return n}})}},function(e){e.O(0,[466,774,888,179],function(){return e(e.s=64923)}),_N_E=e.O()}]);