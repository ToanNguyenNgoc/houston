(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{36023:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/villas/[villaId]",function(){return l(68533)}])},91027:function(e,a,l){"use strict";l.d(a,{CA:function(){return i},HD:function(){return n}});let i=9e5;var t=l(3416);let n=[{key:"CASH",icon:t.q.money},{key:"VNPAYQR",icon:t.q.qrVnpay},{key:"VNBANK",icon:t.q.bankCard},{key:"INTCARD",icon:t.q.creditCard}]},68533:function(e,a,l){"use strict";l.r(a),l.d(a,{__N_SSP:function(){return O},default:function(){return P}});var i=l(85893),t=l(63669),n=l(14833),r=l(71697),s=l(98396),_=l(53156),o=l(77533),c=l(83321),d=l(11163),m=l(14627),h=l.n(m),x=l(36492),u=l(46066),v=l(66838),p=l(40592),g=l.n(p),b=l(67294),f=l(30286),j=l(34215),N=l(87536),y=l(8987),k=l(30381),w=l.n(k),D=l(74231),C=l(47533);let S=D.Ry({from_date_booking:D.Z_().required("Chọn ng\xe0y đến"),to_date_booking:D.Z_().required("Chọn ng\xe0y trả"),customer_count:D.Rx().min(1,"Số lượng kh\xe1ch kh\xf4ng hợp lệ").max(20,"Lượng kh\xe1ch tối đa 20 người").required("Vui l\xf2ng chọn số lượng kh\xe1ch"),baby_count:D.Rx().min(0,"Số lượng kh\xe1ch kh\xf4ng hợp lệ")}),Y=e=>{var a,l;let{villa:t}=e,[n]=(0,v.O)(e=>[e.profile]),[r]=(0,v.M)(e=>[e.onSetBooking]),s=(0,d.useRouter)(),_=(0,b.useRef)(null),o=()=>{_.current&&_.current.classList.add(g().range_date_act)};window.addEventListener("click",()=>{var e;null===(e=_.current)||void 0===e||e.classList.remove(g().range_date_act)});let[c,m]=(0,b.useState)({start:new Date,end:new Date}),h={startDate:c.start,endDate:c.end,key:"selection"},{register:x,handleSubmit:u,setValue:p,formState:{errors:k},getValues:D}=(0,N.cI)({resolver:(0,C.X)(S),defaultValues:{from_date_booking:w()().format("YYYY-MM-DD"),to_date_booking:w()().add(1,"days").format("YYYY-MM-DD"),customer_count:1,baby_count:0,note:""}}),Y=e=>{let a=e.selection.startDate,l=e.selection.endDate;p("from_date_booking",w()(a).format("YYYY-MM-DD")),p("to_date_booking",w()(l).format("YYYY-MM-DD")),m({start:a,end:l})},z=e=>{let{from_date_booking:a,to_date_booking:l,note:i,customer_count:n,baby_count:_}=e;if(t.branch){var o;let e={branch_id:null===(o=t.branch)||void 0===o?void 0:o.id,villa_id:t.id,recaptcha:"",from_date_booking:a,to_date_booking:l,customer_count:n,baby_count:_,note:i};s.push("/check-out"),r(t,e)}};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:g().booking_form_cnt,children:[(0,i.jsx)("span",{className:g().booking_form_title,children:"Đặt ph\xf2ng"}),(0,i.jsxs)("form",{onSubmit:n?u(z):e=>{e.preventDefault(),s.push("/auth/login")},className:g().booking_form,children:[(0,i.jsxs)("div",{onClick:e=>{e.stopPropagation(),o()},className:"".concat(g().form_row," ").concat(g().form_row_col_2),children:[(0,i.jsx)("input",{type:"text",disabled:!0,className:"app-input ".concat(g().input_date),placeholder:"Từ ng\xe0y",...x("from_date_booking")}),(0,i.jsx)("input",{type:"text",disabled:!0,className:"app-input ".concat(g().input_date),placeholder:"Đến ng\xe0y",...x("to_date_booking")}),(0,i.jsx)("div",{ref:_,className:g().range_date_cnt,children:(0,i.jsx)(f.Dw,{className:g().booking_range_date_picker,color:"#015258",minDate:new Date,locale:j.Z,ranges:[h],onChange:Y})})]}),(0,i.jsxs)("div",{className:g().form_row,children:[(0,i.jsx)("label",{className:g().form_row_label,children:"Số lượng kh\xe1ch"}),(0,i.jsx)("input",{style:{marginTop:"8px"},...x("customer_count"),type:"number",className:"app-input"}),""!==D("customer_count")&&(0,i.jsx)("p",{className:g().form_row_error,children:null===(a=k.customer_count)||void 0===a?void 0:a.message})]}),(0,i.jsxs)("div",{className:g().form_row,children:[(0,i.jsx)("label",{className:g().form_row_label,children:"Số trẻ em (dưới 11 tuổi)"}),(0,i.jsx)("input",{style:{marginTop:"8px"},...x("baby_count"),type:"number",className:"app-input"}),""!==D("baby_count")&&(0,i.jsx)("p",{className:g().form_row_error,children:null===(l=k.baby_count)||void 0===l?void 0:l.message})]}),(0,i.jsx)("div",{className:g().form_row,children:(0,i.jsx)("textarea",{className:g().note,placeholder:"Ghi ch\xfa"})}),(0,i.jsx)("div",{className:g().form_bot,children:(0,i.jsx)(y.Z,{variant:"contained",size:"large",style:{backgroundColor:"var(--primary)"},className:g().form_bot_btn,type:"submit",children:"X\xe1c nhận đặt ph\xf2ng"})})]})]})})};var z=l(89583);let V=()=>{let e=[{icon:(0,i.jsx)(z._0,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Wi-Fi miễn ph\xed"},{icon:(0,i.jsx)(z.mxg,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Chỗ đỗ xe miễn ph\xed"},{icon:(0,i.jsx)(z.q3G,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Ph\xf2ng gia đ\xecnh"},{icon:(0,i.jsx)(z.oj_,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Ph\xf2ng kh\xf4ng h\xfat thuốc"},{icon:(0,i.jsx)(z.Eoi,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Dịch vụ ph\xf2ng"},{icon:(0,i.jsx)(z.h97,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Tiện \xedch cho kh\xe1ch khuyết tật"},{icon:(0,i.jsx)(z.hRB,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Bữa s\xe1ng tốt"}];return(0,i.jsxs)("div",{className:g().util_cnt,children:[(0,i.jsx)("span",{className:g().booking_form_title,children:"Tiện \xedch v\xe0 dịch vụ đi k\xe8m"}),(0,i.jsx)("ul",{className:g().list_util,children:e.map((e,a)=>(0,i.jsxs)("li",{className:g().util_item,children:[e.icon,(0,i.jsx)("span",{className:g().util_item_content,children:e.content})]},a))}),(0,i.jsxs)("ul",{className:g().list_util_free,children:[(0,i.jsxs)("li",{children:[(0,i.jsx)(z.Iyg,{size:8,style:{margin:"0px 6px 0px 3px"},color:"var(--green-dark-2)"}),"Miễn ph\xed buffet s\xe1ng"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)(z.Iyg,{size:8,style:{margin:"0px 6px 0px 3px"},color:"var(--green-dark-2)"}),"Nước uống ch\xe0o mừng khi nhận ph\xf2ng"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)(z.Iyg,{size:8,style:{margin:"0px 6px 0px 3px"},color:"var(--green-dark-2)"}),"Đặt trước, thanh to\xe1n sau"]})]})]})},X={infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2500,arrows:!1};var A=l(91027),B=l(64074);let E=e=>{var a,l,n,o,c;let m=(0,d.useRouter)(),{villa:u,villa_id:p}=e,[g]=(0,v.O)(e=>[e.isLoading]),{data:b}=(0,x.a)({queryKey:["VILLA_GALLERIES",p],queryFn:()=>r.h.villa_galleries(p),staleTime:A.CA}),f=null!==(o=null==b?void 0:b.data.map(e=>{var a;return null===(a=e.image)||void 0===a?void 0:a.original_url}))&&void 0!==o?o:[],j=[null!==(c=null===(a=u.thumbnail)||void 0===a?void 0:a.original_url)&&void 0!==c?c:"",...f],N=(0,s.Z)("(max-width:767px)");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.pQ,{title:u.name,description:u.description,url:m.asPath,image_url:null===(l=u.thumbnail)||void 0===l?void 0:l.original_url}),(0,i.jsx)(_.Z,{children:(0,i.jsxs)("div",{className:h().container,children:[(0,i.jsxs)("div",{className:h().head,children:[(0,i.jsxs)("div",{className:h().head_detail,children:[(0,i.jsxs)("div",{className:h().head_detail_left,children:[(0,i.jsx)("h1",{className:h().villa_name,children:u.name}),(0,i.jsxs)("p",{className:h().villa_cate,children:[(0,i.jsx)(z.MJA,{size:13,color:"var(--primary)"}),null===(n=u.villa_cate)||void 0===n?void 0:n.villa_cate_name]}),(0,i.jsxs)("p",{className:h().villa_star,children:[(0,i.jsx)(z.QJe,{size:12,color:"var(--primary)"})," 5,0"]})]}),(0,i.jsx)("div",{className:h().head_detail_right})]}),(0,i.jsx)("div",{className:h().head_banner_cnt,children:N?(0,i.jsx)(T,{images:j}):(0,i.jsx)("div",{className:h().head_banner_desk,children:j.slice(0,4).map(e=>(0,i.jsx)("div",{className:h().banner_item_cnt,children:(0,i.jsx)("img",{src:e,alt:""})},e))})})]}),!N&&(0,i.jsx)(q,{villa:u}),(0,i.jsxs)("div",{className:h().body,children:[(0,i.jsxs)("div",{className:h().body_left,children:[(0,i.jsx)("p",{className:h().body_title,children:"Giới thiệu về biệt thự n\xe0y"}),(0,i.jsx)("span",{className:h().body_desc,children:u.description}),(0,i.jsx)(V,{})]}),N?(0,i.jsx)(L,{villa:u}):(0,i.jsx)("div",{className:h().body_right,children:(0,i.jsx)(Y,{villa:u})})]})]})})]})};E.Layout=n.Zn;var O=!0,P=E;let T=e=>{let{images:a}=e,[l,t]=(0,b.useState)(1),n={...X,autoplay:!1,afterChange:e=>t(e+1)};return(0,i.jsxs)("div",{className:h().head_banner_mb,children:[(0,i.jsxs)("div",{className:h().slide_page,children:[l,"/",a.length]}),(0,i.jsx)(u.Z,{...n,children:a.map((e,a)=>(0,i.jsx)("div",{className:h().slider_item,children:(0,i.jsx)("img",{src:e,alt:""})},a))})]})},q=e=>{let{villa:a}=e;return(0,i.jsx)("div",{className:h().price,children:a.special_price<a.price?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{children:[(0,B.BX)(a.special_price)," VND/đ\xeam"]}),(0,i.jsxs)("span",{children:[(0,B.BX)(a.price)," VND/đ\xeam"]})]}):(0,i.jsxs)("span",{children:[(0,B.BX)(a.price)," VND/đ\xeam"]})})},L=e=>{let{villa:a}=e,[l,t]=(0,b.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.ZP,{open:l,onClose:()=>t(!1),anchor:"bottom",children:(0,i.jsx)("div",{className:h().bottom_form_cnt,children:(0,i.jsx)(Y,{villa:a})})}),(0,i.jsxs)("div",{className:h().bottom,children:[(0,i.jsx)("div",{className:h().bottom_left,children:(0,i.jsx)(q,{villa:a})}),(0,i.jsx)("div",{className:h().bottom_right,children:(0,i.jsx)(c.Z,{onClick:()=>t(!0),variant:"contained",size:"large",style:{backgroundColor:"var(--primary)",width:"100%"},children:"Đặt ph\xf2ng"})})]})]})}},40592:function(e){e.exports={booking_form_title:"villa-detail_booking_form_title__2eyXp",booking_form:"villa-detail_booking_form__cdEXk",form_row:"villa-detail_form_row__LW865",form_row_col_2:"villa-detail_form_row_col_2__xCz7g",input_date:"villa-detail_input_date__4g5lf",range_date_cnt:"villa-detail_range_date_cnt__p9SQQ",range_date_act:"villa-detail_range_date_act__dU7Xy",booking_range_date_picker:"villa-detail_booking_range_date_picker__AtAml",form_row_label:"villa-detail_form_row_label__N25VU",note:"villa-detail_note__GQKbV",form_row_error:"villa-detail_form_row_error__lFs2r",form_bot_btn:"villa-detail_form_bot_btn__cdaHj",util_cnt:"villa-detail_util_cnt__mOsNB",list_util:"villa-detail_list_util__83o5V",util_item:"villa-detail_util_item__mmgly",util_item_content:"villa-detail_util_item_content__BbAfO",list_util_free:"villa-detail_list_util_free__D4NXP"}},14627:function(e){e.exports={container:"villa_container__OmfSI",head_banner_cnt:"villa_head_banner_cnt__yUJj5",villa_name:"villa_villa_name__U4yVn",villa_cate:"villa_villa_cate__FOU2y",villa_star:"villa_villa_star__fgvJ0",head_banner_desk:"villa_head_banner_desk__a1Y8b",banner_item_cnt:"villa_banner_item_cnt__nBEvO",price:"villa_price__sXIf2",body:"villa_body__wNB4S",body_left:"villa_body_left__lPXoG",body_right:"villa_body_right__hw_b8",body_title:"villa_body_title__v5mVP",body_desc:"villa_body_desc__9E8UC",head:"villa_head__31e8D",head_detail:"villa_head_detail__etaiU",head_banner_mb:"villa_head_banner_mb__r0t57",slide_page:"villa_slide_page__JuoZf",slider_item:"villa_slider_item__g0RTj",bottom:"villa_bottom__8Oa3O",bottom_right:"villa_bottom_right__Bc_ce",bottom_form_cnt:"villa_bottom_form_cnt__OUff_"}}},function(e){e.O(0,[885,828,466,583,459,774,888,179],function(){return e(e.s=36023)}),_N_E=e.O()}]);