(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{36023:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/villas/[villaId]",function(){return a(68533)}])},68533:function(e,l,a){"use strict";a.r(l),a.d(l,{__N_SSP:function(){return z},default:function(){return C}});var i=a(85893),t=a(25388),n=a(14833),_=a(71697),o=a(53156),r=a(11163),s=a(14627),c=a.n(s),d=a(36492),m=a(46066),u=a(66838),h=a(40592),g=a.n(h),v=a(67294),x=a(30286),f=a(34215),b=a(87536),p=a(8987),k=a(30381),j=a.n(k),y=a(74231),N=a(47533);let w=y.Ry({from_date_booking:y.Z_().required("Chọn ng\xe0y đến"),to_date_booking:y.Z_().required("Chọn ng\xe0y trả"),customer_count:y.Rx().min(1,"Số lượng kh\xe1ch kh\xf4ng hợp lệ").max(20,"Lượng kh\xe1ch tối đa 20 người").required("Vui l\xf2ng chọn số lượng kh\xe1ch"),baby_count:y.Rx().min(0,"Số lượng kh\xe1ch kh\xf4ng hợp lệ")}),D=e=>{var l,a;let{villa:t}=e,[n]=(0,u.O)(e=>[e.profile]),[_]=(0,u.M)(e=>[e.onSetBooking]),o=(0,r.useRouter)(),s=(0,v.useRef)(null),c=()=>{s.current&&s.current.classList.add(g().range_date_act)};window.addEventListener("click",()=>{var e;null===(e=s.current)||void 0===e||e.classList.remove(g().range_date_act)});let[d,m]=(0,v.useState)({start:new Date,end:new Date}),h={startDate:d.start,endDate:d.end,key:"selection"},{register:k,handleSubmit:y,setValue:D,formState:{errors:Y},getValues:S}=(0,b.cI)({resolver:(0,N.X)(w),defaultValues:{from_date_booking:j()().format("YYYY-MM-DD"),to_date_booking:j()().add(1,"days").format("YYYY-MM-DD"),customer_count:1,baby_count:0,note:""}}),L=e=>{let l=e.selection.startDate,a=e.selection.endDate;D("from_date_booking",j()(l).format("YYYY-MM-DD")),D("to_date_booking",j()(a).format("YYYY-MM-DD")),m({start:l,end:a})},E=e=>{let{from_date_booking:l,to_date_booking:a,note:i,customer_count:n,baby_count:r}=e;if(console.log(t),t.branch){var s;let e={branch_id:null===(s=t.branch)||void 0===s?void 0:s.id,villa_id:t.id,recaptcha:"",from_date_booking:l,to_date_booking:a,customer_count:n,baby_count:r,note:i};o.push("/check-out"),_(t,e)}};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:g().booking_form_cnt,children:[(0,i.jsx)("span",{className:g().booking_form_title,children:"Đặt ph\xf2ng"}),(0,i.jsxs)("form",{onSubmit:n?y(E):e=>{e.preventDefault(),o.push("/auth/login")},className:g().booking_form,children:[(0,i.jsxs)("div",{onClick:e=>{e.stopPropagation(),c()},className:"".concat(g().form_row," ").concat(g().form_row_col_2),children:[(0,i.jsx)("input",{type:"text",disabled:!0,className:"app-input ".concat(g().input_date),placeholder:"Từ ng\xe0y",...k("from_date_booking")}),(0,i.jsx)("input",{type:"text",disabled:!0,className:"app-input ".concat(g().input_date),placeholder:"Đến ng\xe0y",...k("to_date_booking")}),(0,i.jsx)("div",{ref:s,className:g().range_date_cnt,children:(0,i.jsx)(x.Dw,{className:g().booking_range_date_picker,color:"#015258",minDate:new Date,locale:f.Z,ranges:[h],onChange:L})})]}),(0,i.jsxs)("div",{className:g().form_row,children:[(0,i.jsx)("label",{className:g().form_row_label,children:"Số lượng kh\xe1ch"}),(0,i.jsx)("input",{style:{marginTop:"8px"},...k("customer_count"),type:"number",className:"app-input"}),""!==S("customer_count")&&(0,i.jsx)("p",{className:g().form_row_error,children:null===(l=Y.customer_count)||void 0===l?void 0:l.message})]}),(0,i.jsxs)("div",{className:g().form_row,children:[(0,i.jsx)("label",{className:g().form_row_label,children:"Số trẻ em (dưới 11 tuổi)"}),(0,i.jsx)("input",{style:{marginTop:"8px"},...k("baby_count"),type:"number",className:"app-input"}),""!==S("baby_count")&&(0,i.jsx)("p",{className:g().form_row_error,children:null===(a=Y.baby_count)||void 0===a?void 0:a.message})]}),(0,i.jsx)("div",{className:g().form_row,children:(0,i.jsx)("textarea",{className:g().note,placeholder:"Ghi ch\xfa"})}),(0,i.jsx)("div",{className:g().form_bot,children:(0,i.jsx)(p.Z,{variant:"contained",size:"large",style:{backgroundColor:"var(--primary)"},className:g().form_bot_btn,type:"submit",children:"X\xe1c nhận đặt ph\xf2ng"})})]})]})})};var Y=a(89583);let S=()=>{let e=[{icon:(0,i.jsx)(Y._0,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Wi-Fi miễn ph\xed"},{icon:(0,i.jsx)(Y.mxg,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Chỗ đỗ xe miễn ph\xed"},{icon:(0,i.jsx)(Y.q3G,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Ph\xf2ng gia đ\xecnh"},{icon:(0,i.jsx)(Y.oj_,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Ph\xf2ng kh\xf4ng h\xfat thuốc"},{icon:(0,i.jsx)(Y.Eoi,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Dịch vụ ph\xf2ng"},{icon:(0,i.jsx)(Y.h97,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Tiện \xedch cho kh\xe1ch khuyết tật"},{icon:(0,i.jsx)(Y.hRB,{className:g().util_icon,size:16,color:"var(--green-dark-2)"}),content:"Bữa s\xe1ng tốt"}];return(0,i.jsxs)("div",{className:g().util_cnt,children:[(0,i.jsx)("span",{className:g().booking_form_title,children:"Tiện \xedch v\xe0 dịch vụ đi k\xe8m"}),(0,i.jsx)("ul",{className:g().list_util,children:e.map((e,l)=>(0,i.jsxs)("li",{className:g().util_item,children:[e.icon,(0,i.jsx)("span",{className:g().util_item_content,children:e.content})]},l))})]})},L={infinite:!0,speed:1e3,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2500,arrows:!1},E=e=>{var l,a,n;let s=(0,r.useRouter)(),{villa:h,villa_id:g}=e,[v]=(0,u.O)(e=>[e.isLoading]),{data:x}=(0,d.a)({queryKey:["VILLA_GALLERIES",g],queryFn:()=>_.h.villa_galleries(g)});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.pQ,{title:h.name,description:h.description,url:s.asPath,image_url:null===(l=h.thumbnail)||void 0===l?void 0:l.original_url}),(0,i.jsx)(t.RJ,{image_url:null===(a=h.thumbnail)||void 0===a?void 0:a.original_url,title:h.name}),(0,i.jsx)("div",{className:c().container,children:(0,i.jsx)(o.Z,{children:(0,i.jsxs)("div",{className:c().body,children:[(0,i.jsxs)("div",{className:c().body_left,children:[(0,i.jsx)("h1",{className:c().body_left_name,children:h.name}),(0,i.jsx)("div",{className:c().body_left_images,children:(0,i.jsx)(m.Z,{...L,children:null==x?void 0:null===(n=x.data)||void 0===n?void 0:n.map((e,l)=>{var a;return(0,i.jsx)("div",{className:c().slick_img_cnt,children:(0,i.jsx)("img",{className:c().slick_img,src:null===(a=e.image)||void 0===a?void 0:a.original_url,alt:""})},l)})})}),(0,i.jsx)("div",{className:c().body_left_desc,children:h.description}),(0,i.jsx)(S,{})]}),(0,i.jsx)("div",{className:c().body_right,children:!v&&(0,i.jsx)(D,{villa:h})})]})})})]})};E.Layout=n.Zn;var z=!0,C=E},40592:function(e){e.exports={booking_form_title:"villa-detail_booking_form_title__2eyXp",booking_form:"villa-detail_booking_form__cdEXk",form_row:"villa-detail_form_row__LW865",form_row_col_2:"villa-detail_form_row_col_2__xCz7g",input_date:"villa-detail_input_date__4g5lf",range_date_cnt:"villa-detail_range_date_cnt__p9SQQ",range_date_act:"villa-detail_range_date_act__dU7Xy",booking_range_date_picker:"villa-detail_booking_range_date_picker__AtAml",form_row_label:"villa-detail_form_row_label__N25VU",note:"villa-detail_note__GQKbV",form_row_error:"villa-detail_form_row_error__lFs2r",form_bot_btn:"villa-detail_form_bot_btn__cdaHj",util_cnt:"villa-detail_util_cnt__mOsNB",list_util:"villa-detail_list_util__83o5V",util_item:"villa-detail_util_item__mmgly",util_item_content:"villa-detail_util_item_content__BbAfO"}},14627:function(e){e.exports={villa_img_cnt:"villa_villa_img_cnt__h7XiE",villa_img:"villa_villa_img__JdYqY",villa_name:"villa_villa_name__U4yVn",body:"villa_body__wNB4S",body_left:"villa_body_left__lPXoG",body_left_name:"villa_body_left_name__hAaZs",body_left_images:"villa_body_left_images__1s7t9",slick_img_cnt:"villa_slick_img_cnt__nGYvu",slick_img:"villa_slick_img__j479h",body_left_desc:"villa_body_left_desc__qL6KZ",body_right:"villa_body_right__hw_b8"}}},function(e){e.O(0,[885,912,491,828,66,622,774,888,179],function(){return e(e.s=36023)}),_N_E=e.O()}]);