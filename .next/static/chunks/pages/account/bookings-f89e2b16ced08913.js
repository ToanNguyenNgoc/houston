(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[117],{4481:function(_,a,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/bookings",function(){return e(9684)}])},9684:function(_,a,e){"use strict";e.r(a),e.d(a,{PageHeaderAccount:function(){return p}});var i=e(5893),o=e(5388),n=e(546),t=e(1697),c=e(6394),r=e.n(c),l=e(9683),s=e(9583),d=e(381),m=e.n(d),u=e(1664),g=e.n(u),h=e(588),v=e(8987),b=e(1163);let p=_=>{let{title:a}=_,e=(0,b.useRouter)();return(0,i.jsxs)("div",{className:r().account_page_title,children:[(0,i.jsx)("button",{onClick:()=>e.back(),className:r().account_page_title_btn,children:(0,i.jsx)(s._HU,{size:26,color:"var(--primary)"})}),(0,i.jsx)("span",{children:a})]})},x=()=>{var _,a,e,n;let{data:c,fetchNextPage:d,isLoading:u,isFetchingNextPage:b}=(0,l.N)({queryKey:["BOOKINGS"],queryFn:_=>{let{pageParam:a=1}=_;return t.h.bookings({page:a,limit:10,includes:"full_address|villa_media"})},getNextPageParam:_=>_.current_page+1}),x=null!==(e=null===(_=null==c?void 0:c.pages[0])||void 0===_?void 0:_.total)&&void 0!==e?e:0,k=null!==(n=null==c?void 0:null===(a=c.pages)||void 0===a?void 0:a.map(_=>_.data).flat())&&void 0!==n?n:[];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.pQ,{title:"Lịch sử đặt ph\xf2ng",description:"",url:""}),(0,i.jsx)(p,{title:"Lịch sử đặt ph\xf2ng"}),(0,i.jsxs)("div",{className:r().account_page_body,children:[(0,i.jsx)("ul",{className:r().booking_list,children:k.map(_=>{var a,e,o,n,t,c,l,d,u,v;return(0,i.jsx)("li",{className:r().booking_list_item,children:(0,i.jsxs)(g(),{href:"/",className:r().booking_item,children:[(0,i.jsx)("div",{className:r().booking_item_img,children:(0,i.jsx)("img",{src:null===(a=_.villa)||void 0===a?void 0:null===(e=a.thumbnail)||void 0===e?void 0:e.original_url,alt:""})}),(0,i.jsxs)("div",{className:r().booking_item_detail,children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:r().booking_item_detail_head_create,children:["ng\xe0y đặt: ",m()(_.created_at).format("HH:mm DD [thg] MM, YYYY")]}),(0,i.jsxs)("div",{className:r().booking_item_detail_head,children:[(0,i.jsx)("span",{children:null===(o=_.villa)||void 0===o?void 0:o.name}),(0,i.jsxs)("span",{children:["Trạng th\xe1i đặt ",(0,i.jsx)("br",{}),_.status_booking]})]}),(0,i.jsxs)("span",{className:r().booking_item_detail_address,children:[(0,i.jsx)(s.Nh4,{color:"var(--primary)",size:12}),null===(n=_.branch)||void 0===n?void 0:n.address,",",null===(t=_.branch)||void 0===t?void 0:null===(c=t.ward)||void 0===c?void 0:c.name,",",null===(l=_.branch)||void 0===l?void 0:null===(d=l.district)||void 0===d?void 0:d.name,",",null===(u=_.branch)||void 0===u?void 0:null===(v=u.province)||void 0===v?void 0:v.name]}),(0,i.jsxs)("div",{className:r().range_date,children:[(0,i.jsxs)("div",{className:r().range_date_item,children:[(0,i.jsx)("p",{children:"Nhận ph\xf2ng"}),(0,i.jsx)("p",{children:m()(_.from_date_booking).format("DD [thg] MM, YYYY")})]}),(0,i.jsxs)("div",{className:r().range_date_item,children:[(0,i.jsx)("p",{children:"Trả ph\xf2ng"}),(0,i.jsx)("p",{children:m()(_.to_date_booking).format("DD [thg] MM, YYYY")})]})]})]}),(0,i.jsxs)("div",{className:r().booking_item_detail_amount,children:[(0,i.jsx)("span",{children:"Tổng cộng"}),(0,i.jsxs)("span",{children:[(0,h.BX)(_.amount)," / (",_.nights," đ\xeam)"]})]})]})]})},_.id)})}),(0,i.jsx)("div",{className:r().account_page_bot,children:k.length<x&&(0,i.jsx)(v.Z,{loading:b,onClick:()=>d(),style:{color:"var(--primary)"},children:"Xem th\xeam"})})]})]})};x.Layout=n.p0,a.default=x},6394:function(_){_.exports={account_page_title:"account_account_page_title__cFga2",account_page_body:"account_account_page_body__Fsv84",acc_form_row:"account_acc_form_row__lIrx_",acc_form_row_label:"account_acc_form_row_label__vcEod",acc_form_row_ip:"account_acc_form_row_ip__qR_vq",acc_form_row_ip_error:"account_acc_form_row_ip_error__XacFg",acc_form_bot:"account_acc_form_bot__M4cAl",row_avatar:"account_row_avatar__ge_Na",form_avatar:"account_form_avatar__tTEgY",form_avatar_btn:"account_form_avatar_btn__qwwkH",booking_item:"account_booking_item__oALVH",booking_item_detail:"account_booking_item_detail__reDxw",booking_item_detail_head:"account_booking_item_detail_head__Dc_An",booking_item_detail_amount:"account_booking_item_detail_amount__hPeZT",booking_item_img:"account_booking_item_img__hSbjz",booking_item_detail_head_create:"account_booking_item_detail_head_create__0_9rt",booking_item_detail_address:"account_booking_item_detail_address__kKbUr",range_date:"account_range_date__C1LDC",range_date_item:"account_range_date_item__jRXps",account_page_bot:"account_account_page_bot__NIbYI",booking_list_item:"account_booking_list_item__QiWar"}}},function(_){_.O(0,[885,912,683,774,888,179],function(){return _(_.s=4481)}),_N_E=_.O()}]);